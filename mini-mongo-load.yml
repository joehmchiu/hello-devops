# devops: hello world

parameters:
- name: tests
  type: object
  default: 
  - 1
  - 2
  - 3
  - 4
  - 5
  - 6
  - 7
  - 8
  - 9
  - 10
  - 11
  - 12

steps:
- ${{ each p in parameters.param }}:
  - script: echo ${{ p }}

pool: AZP-Pool
steps:
- script: |
    dir
    pwd
    echo '$(Agent.BuildDirectory)'
    echo '$(System.DefaultWorkingDirectory)'
  displayName: Display the file structure
- ${{ each p in parameters.tests }}:
  - script: |
      cd './mini-crud'
      ./mini-tester.py create
    displayName: Create a record via Mongo API
  - script: |
      cd './mini-crud'
      ./mini-tester.py read
    displayName: Read the new record
  - script: |
      cd './mini-crud'
      ./mini-tester.py update
    displayName: Update the new record
  - script: |
      cd './mini-crud'
      ./mini-tester.py delete
    displayName: Delete the created record
